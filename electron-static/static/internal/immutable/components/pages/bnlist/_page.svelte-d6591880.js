import{S as de,i as he,s as ae,k as w,q as M,a as U,l as I,m as E,r as R,h,c as T,n as p,p as pe,b as H,G as _,u as ee,g as X,t as N,d as x,f as P,Z as ve,o as ge,v as j,w as q,x as G,aa as me,y as z,A as Q,e as W,af as $e,D as be,O as te,aj as ke,ak as we,am as se,Y as Ie,C as Ee}from"../../../chunks/index-f308d2aa.js";import{l as ye,B as ne}from"../../../chunks/lazyload-3364bded.js";import{R as De}from"../../../chunks/RandomBackground-1ce01d8b.js";import{a as Ae}from"../../../chunks/env-f184adc0.js";import{o as Be,a as K}from"../../../chunks/custom-banner-69a35a82.js";import{t as re}from"../../../chunks/timeago-17bb7280.js";import{P as Ve}from"../../../chunks/_pagination-3966837c.js";function oe(s,e,t){const l=s.slice();return l[6]=e[t].bannerName,l[7]=e[t].hostedImages!==void 0?e[t].hostedImages:{},l[8]=e[t].blocked,l[9]=e[t].id,l[10]=e[t].lastModified,l}function ie(s,e,t){const l=s.slice();return l[13]=e[t],l}function Le(s){let e,t,l,a=s[3](s[1],s[0]),n=[];for(let i=0;i<a.length;i+=1)n[i]=_e(oe(s,a,i));const u=i=>N(n[i],1,1,()=>{n[i]=null});return t=new Ve({props:{v2:!0,itemPerPage:le,activepage:s[0],dataLength:s[1].length}}),{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=U(),j(t.$$.fragment)},l(i){for(let c=0;c<n.length;c+=1)n[c].l(i);e=T(i),q(t.$$.fragment,i)},m(i,c){for(let o=0;o<n.length;o+=1)n[o].m(i,c);H(i,e,c),G(t,i,c),l=!0},p(i,c){if(c&15){a=i[3](i[1],i[0]);let r;for(r=0;r<a.length;r+=1){const d=oe(i,a,r);n[r]?(n[r].p(d,c),P(n[r],1)):(n[r]=_e(d),n[r].c(),P(n[r],1),n[r].m(e.parentNode,e))}for(X(),r=a.length;r<n.length;r+=1)u(r);x()}const o={};c&1&&(o.activepage=i[0]),c&2&&(o.dataLength=i[1].length),t.$set(o)},i(i){if(!l){for(let c=0;c<a.length;c+=1)P(n[c]);P(t.$$.fragment,i),l=!0}},o(i){n=n.filter(Boolean);for(let c=0;c<n.length;c+=1)N(n[c]);N(t.$$.fragment,i),l=!1},d(i){me(n,i),i&&h(e),z(t,i)}}}function Se(s){let e,t,l;return{c(){e=w("div"),t=w("span"),l=M("waiting ..."),this.h()},l(a){e=I(a,"DIV",{class:!0});var n=E(e);t=I(n,"SPAN",{});var u=E(t);l=R(u,"waiting ..."),u.forEach(h),n.forEach(h),this.h()},h(){p(e,"class","row svelte-12an48w")},m(a,n){H(a,e,n),_(e,t),_(t,l)},p:Q,i:Q,o:Q,d(a){a&&h(e)}}}function ce(s){let e=s[7][s[13]],t,l=fe(s);return{c(){l.c(),t=W()},l(a){l.l(a),t=W()},m(a,n){l.m(a,n),H(a,t,n)},p(a,n){n&3&&ae(e,e=a[7][a[13]])?(l.d(1),l=fe(a),l.c(),l.m(t.parentNode,t)):l.p(a,n)},d(a){a&&h(t),l.d(a)}}}function fe(s){let e,t,l,a,n,u,i,c;return{c(){e=w("a"),t=w("img"),n=U(),this.h()},l(o){e=I(o,"A",{href:!0,target:!0,rel:!0});var r=E(e);t=I(r,"IMG",{alt:!0,class:!0}),n=T(r),r.forEach(h),this.h()},h(){p(t,"alt",l=s[6]),p(t,"class","svelte-12an48w"),p(e,"href",u=K(s[7][s[13]])),p(e,"target","_blank"),p(e,"rel","noopener noreferrer")},m(o,r){H(o,e,r),_(e,t),_(e,n),i||(c=$e(a=ye.call(null,t,K(s[7][s[13]],150))),i=!0)},p(o,r){s=o,r&3&&l!==(l=s[6])&&p(t,"alt",l),a&&be(a.update)&&r&3&&a.update.call(null,K(s[7][s[13]],150)),r&3&&u!==(u=K(s[7][s[13]]))&&p(e,"href",u)},d(o){o&&h(e),i=!1,c()}}}function ue(s){let e,t=s[7][s[13]]&&ce(s);return{c(){t&&t.c(),e=W()},l(l){t&&t.l(l),e=W()},m(l,a){t&&t.m(l,a),H(l,e,a)},p(l,a){l[7][l[13]]?t?t.p(l,a):(t=ce(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){t&&t.d(l),l&&h(e)}}}function Pe(s){let e,t;function l(){return s[4](s[9])}return e=new ne({props:{$$slots:{default:[Ce]},$$scope:{ctx:s}}}),e.$on("click",l),{c(){j(e.$$.fragment)},l(a){q(e.$$.fragment,a)},m(a,n){G(e,a,n),t=!0},p(a,n){s=a;const u={};n&65536&&(u.$$scope={dirty:n,ctx:s}),e.$set(u)},i(a){t||(P(e.$$.fragment,a),t=!0)},o(a){N(e.$$.fragment,a),t=!1},d(a){z(e,a)}}}function Ne(s){let e,t;return e=new ne({props:{disabled:!0,$$slots:{default:[Me]},$$scope:{ctx:s}}}),{c(){j(e.$$.fragment)},l(l){q(e.$$.fragment,l)},m(l,a){G(e,l,a),t=!0},p(l,a){const n={};a&65536&&(n.$$scope={dirty:a,ctx:l}),e.$set(n)},i(l){t||(P(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function Ce(s){let e;return{c(){e=M("Block")},l(t){e=R(t,"Block")},m(t,l){H(t,e,l)},d(t){t&&h(e)}}}function Me(s){let e;return{c(){e=M("Blocked")},l(t){e=R(t,"Blocked")},m(t,l){H(t,e,l)},d(t){t&&h(e)}}}function _e(s){let e,t,l,a,n,u=s[6]+"",i,c,o,r,d=re(s[10])+"",$,D,b,k,m,A,g,B=["artURL","faceURL","thumbnail"],V=[];for(let f=0;f<3;f+=1)V[f]=ue(ie(s,B,f));const F=[Ne,Pe],L=[];function Y(f,v){return f[8]?0:1}return k=Y(s),m=L[k]=F[k](s),{c(){e=w("div"),t=w("div");for(let f=0;f<3;f+=1)V[f].c();l=U(),a=w("div"),n=w("a"),i=M(u),o=U(),r=w("span"),$=M(d),D=U(),b=w("div"),m.c(),this.h()},l(f){e=I(f,"DIV",{class:!0,id:!0});var v=E(e);t=I(v,"DIV",{class:!0});var S=E(t);for(let O=0;O<3;O+=1)V[O].l(S);S.forEach(h),l=T(v),a=I(v,"DIV",{class:!0});var y=E(a);n=I(y,"A",{class:!0,target:!0,href:!0});var C=E(n);i=R(C,u),C.forEach(h),o=T(y),r=I(y,"SPAN",{class:!0});var Z=E(r);$=R(Z,d),Z.forEach(h),y.forEach(h),D=T(v),b=I(v,"DIV",{class:!0});var J=E(b);m.l(J),J.forEach(h),v.forEach(h),this.h()},h(){p(t,"class","col img svelte-12an48w"),p(n,"class","name svelte-12an48w"),p(n,"target","_blank"),p(n,"href",c="/?banner="+s[9]),p(r,"class","time svelte-12an48w"),p(a,"class","col info svelte-12an48w"),p(b,"class","col action svelte-12an48w"),p(e,"class","row svelte-12an48w"),p(e,"id",A=s[9])},m(f,v){H(f,e,v),_(e,t);for(let S=0;S<3;S+=1)V[S].m(t,null);_(e,l),_(e,a),_(a,n),_(n,i),_(a,o),_(a,r),_(r,$),_(e,D),_(e,b),L[k].m(b,null),g=!0},p(f,v){if(v&11){B=["artURL","faceURL","thumbnail"];let y;for(y=0;y<3;y+=1){const C=ie(f,B,y);V[y]?V[y].p(C,v):(V[y]=ue(C),V[y].c(),V[y].m(t,null))}for(;y<3;y+=1)V[y].d(1)}(!g||v&3)&&u!==(u=f[6]+"")&&ee(i,u),(!g||v&3&&c!==(c="/?banner="+f[9]))&&p(n,"href",c),(!g||v&3)&&d!==(d=re(f[10])+"")&&ee($,d);let S=k;k=Y(f),k===S?L[k].p(f,v):(X(),N(L[S],1,1,()=>{L[S]=null}),x(),m=L[k],m?m.p(f,v):(m=L[k]=F[k](f),m.c()),P(m,1),m.m(b,null)),(!g||v&3&&A!==(A=f[9]))&&p(e,"id",A)},i(f){g||(P(m),g=!0)},o(f){N(m),g=!1},d(f){f&&h(e),me(V,f),L[k].d()}}}function Re(s){let e,t,l,a,n=s[1].length+"",u,i,c,o,r,d,$,D,b,k,m,A,g,B,V;const F=[Se,Le],L=[];function Y(f,v){return f[1].length<1?0:1}return g=Y(s),B=L[g]=F[g](s),{c(){e=w("div"),t=w("div"),l=w("span"),a=M("Total: "),u=M(n),i=U(),c=w("div"),o=w("div"),r=M("Images"),d=U(),$=w("div"),D=M("Banner information"),b=U(),k=w("div"),m=M("Action"),A=U(),B.c(),this.h()},l(f){e=I(f,"DIV",{class:!0,style:!0});var v=E(e);t=I(v,"DIV",{class:!0});var S=E(t);l=I(S,"SPAN",{});var y=E(l);a=R(y,"Total: "),u=R(y,n),y.forEach(h),S.forEach(h),i=T(v),c=I(v,"DIV",{class:!0});var C=E(c);o=I(C,"DIV",{class:!0});var Z=E(o);r=R(Z,"Images"),Z.forEach(h),d=T(C),$=I(C,"DIV",{class:!0});var J=E($);D=R(J,"Banner information"),J.forEach(h),b=T(C),k=I(C,"DIV",{class:!0});var O=E(k);m=R(O,"Action"),O.forEach(h),C.forEach(h),A=T(v),B.l(v),v.forEach(h),this.h()},h(){p(t,"class","row total svelte-12an48w"),p(o,"class","col img svelte-12an48w"),p($,"class","col info svelte-12an48w"),p(k,"class","col action svelte-12an48w"),p(c,"class","row header svelte-12an48w"),p(e,"class","list"),pe(e,"--content-width","1000px")},m(f,v){H(f,e,v),_(e,t),_(t,l),_(l,a),_(l,u),_(e,i),_(e,c),_(c,o),_(o,r),_(c,d),_(c,$),_($,D),_(c,b),_(c,k),_(k,m),_(e,A),L[g].m(e,null),V=!0},p(f,[v]){(!V||v&2)&&n!==(n=f[1].length+"")&&ee(u,n);let S=g;g=Y(f),g===S?L[g].p(f,v):(X(),N(L[S],1,1,()=>{L[S]=null}),x(),B=L[g],B?B.p(f,v):(B=L[g]=F[g](f),B.c()),P(B,1),B.m(e,null))},i(f){V||(P(B),V=!0)},o(f){N(B),V=!1},d(f){f&&h(e),L[g].d()}}}let le=10;function Ue(s,e,t){let l=1,a=[];const n=async o=>{await Be.block(o);const r=a.findIndex(({id:d})=>o===d);t(1,a[r].blocked=!0,a)};ve("navigation",o=>t(0,l=o));const i=(o,r=1)=>o.filter(($,D)=>{const b=D>(r-1)*le-1,k=D<le*r;return b&&k});return ge(async()=>{try{const o=await fetch(Ae+"/storage"),{success:r,data:d=[]}=await o.json();if(!r)return;t(1,a=d.sort(({lastModified:$},{lastModified:D})=>new Date(D)-new Date($)))}catch(o){console.error(o),t(1,a=[])}}),[l,a,n,i,o=>n(o)]}class Te extends de{constructor(e){super(),he(this,e,Ue,Re,ae,{})}}function He(s){let e,t;return e=new Te({}),{c(){j(e.$$.fragment)},l(l){q(e.$$.fragment,l)},m(l,a){G(e,l,a),t=!0},p:Q,i(l){t||(P(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function Oe(s){let e,t,l,a,n,u,i,c,o;return u=new ne({props:{$$slots:{default:[je]},$$scope:{ctx:s}}}),u.$on("click",s[2]),{c(){e=w("form"),t=w("div"),l=w("input"),a=U(),n=w("div"),j(u.$$.fragment),this.h()},l(r){e=I(r,"FORM",{class:!0});var d=E(e);t=I(d,"DIV",{class:!0});var $=E(t);l=I($,"INPUT",{type:!0,class:!0}),$.forEach(h),a=T(d),n=I(d,"DIV",{class:!0});var D=E(n);q(u.$$.fragment,D),D.forEach(h),d.forEach(h),this.h()},h(){p(l,"type","text"),p(l,"class","svelte-33al2o"),p(t,"class","col"),p(n,"class","col button svelte-33al2o"),p(e,"class","svelte-33al2o")},m(r,d){H(r,e,d),_(e,t),_(t,l),se(l,s[1]),_(e,a),_(e,n),G(u,n,null),i=!0,c||(o=[te(l,"input",s[4]),te(e,"submit",Ie(s[2]))],c=!0)},p(r,d){d&2&&l.value!==r[1]&&se(l,r[1]);const $={};d&64&&($.$$scope={dirty:d,ctx:r}),u.$set($)},i(r){i||(P(u.$$.fragment,r),i=!0)},o(r){N(u.$$.fragment,r),i=!1},d(r){r&&h(e),z(u),c=!1,Ee(o)}}}function je(s){let e;return{c(){e=M("Show List")},l(t){e=R(t,"Show List")},m(t,l){H(t,e,l)},d(t){t&&h(e)}}}function qe(s){let e,t,l,a,n,u,i,c,o,r,d,$;t=new De({});const D=[Oe,He],b=[];function k(m,A){return m[0]?1:0}return c=k(s),o=b[c]=D[c](s),{c(){e=w("section"),j(t.$$.fragment),l=U(),a=w("div"),n=w("h1"),u=M("Control Banner"),i=U(),o.c(),this.h()},l(m){e=I(m,"SECTION",{class:!0});var A=E(e);q(t.$$.fragment,A),l=T(A),a=I(A,"DIV",{class:!0});var g=E(a);n=I(g,"H1",{class:!0});var B=E(n);u=R(B,"Control Banner"),B.forEach(h),i=T(g),o.l(g),g.forEach(h),A.forEach(h),this.h()},h(){p(n,"class","svelte-33al2o"),p(a,"class","container svelte-33al2o"),p(e,"class","svelte-33al2o")},m(m,A){H(m,e,A),G(t,e,null),_(e,l),_(e,a),_(a,n),_(n,u),_(a,i),b[c].m(a,null),r=!0,d||($=te(a,"contextmenu",ke(s[3])),d=!0)},p(m,[A]){let g=c;c=k(m),c===g?b[c].p(m,A):(X(),N(b[g],1,1,()=>{b[g]=null}),x(),o=b[c],o?o.p(m,A):(o=b[c]=D[c](m),o.c()),P(o,1),o.m(a,null))},i(m){r||(P(t.$$.fragment,m),P(o),r=!0)},o(m){N(t.$$.fragment,m),N(o),r=!1},d(m){m&&h(e),z(t),b[c].d(),d=!1,$()}}}let Ge="1baedd25059490937a8f7a52dbaf5a7c168bc49f5bac0d7bc48bd6b58a84a421";function ze(s,e,t){let l=!1,a="";const n=async o=>{const r=new TextEncoder().encode(o),d=await crypto.subtle.digest("SHA-256",r);return Array.from(new Uint8Array(d)).map(b=>b.toString(16).padStart(2,"0")).join("")},u=async()=>{const o=await n(a.trim());t(0,l=o===Ge),!l&&t(1,a="")};function i(o){we.call(this,s,o)}function c(){a=this.value,t(1,a)}return[l,a,u,i,c]}class Xe extends de{constructor(e){super(),he(this,e,ze,qe,ae,{})}}export{Xe as default};
